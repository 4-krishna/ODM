<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ sheet_name }}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='sheet.css') }}">
    <script src="{{ url_for('static', filename='sheet.js') }}" defer></script>
</head>
<body>
<div class="container">
    <h2>Sheet: {{ sheet_name }}</h2>
    <form method="POST">
        <label>Name:</label>
        <input type="text" name="name" required>
        <label>Roll Number:</label>
        <input type="text" name="roll_number" required>
        <p>Select Time Slots:</p>
        <div class="checkbox-container">
            {% for slot in ["8:00-8:50","9:00-9:50","10:00-10:50","11:00-11:50","12:00-12:50","1:40-2:30","2:40-3:30","3:40-4:30","4:40-5:30"] %}
            <label class="checkbox-label">
                <input type="checkbox" name="time_slots" value="{{ slot }}"> {{ slot }}
            </label>
            {% endfor %}
        </div>
        <button type="submit">Submit Entry</button>
    </form>


    <div class="entries-container">
        {% for e in entries %}
        <div class="entry-card">
            <p><strong>{{ e[1] }}</strong> ({{ e[2] }})</p>
            <p>Time Slots: {{ e[3] }}</p>
            {% if creator == current_user %}
            <form method="POST" action="{{ url_for('delete_entry', sheet_id=sheet_id, entry_id=e[0]) }}">
                <button type="submit" class="delete-btn">Delete</button>
            </form>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    {% if creator == current_user %}
    <p><a href="{{ url_for('download_sheet', sheet_id=sheet_id) }}" class="download-btn">Download as CSV</a></p>
    {% endif %}
</div>
</body>
</html>
